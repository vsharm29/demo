name: Demo

on:
  push:
    branches:
      - main
      - develop
  pull_request:
    branches:
      - main
      - develop
      - feature/*

jobs:
  parse-variables:
    runs-on: ubuntu-latest
    steps:
      - name: Set Variables
        run: |
          if [[ ${{ github.ref }} == refs/heads/main* ]]; then
            export VARIABLES=parameters/variables-dev.json
          elif [[ ${{ github.ref }} == refs/heads/test* ]]; then
            export VARIABLES=parameters/variables-test.json
          elif [[ ${{ github.ref }} == refs/heads/production* ]]; then
            export VARIABLES=parameters/variables-prod.json
          else
            export VARIABLES=parameters/variables-dev.json
          fi
        env:
          VARIABLES: ${{ env.VARIABLES }}
      - name: Manual
        run: export Hello=233

      - name: Print Variables
        run: echo "$Hello"
